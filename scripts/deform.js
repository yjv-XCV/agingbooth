var app = new PIXI.Application({
    'width' : 840,
    'height' : 1120,
    'transparent' : true
});
document.body.appendChild(app.view);

var count = 0;
var vrtcs = new Float32Array(84);
var uvs = new Float32Array(84);

var index = 0;

uvs = new Float32Array([
    0.17857142857142858, 0.2357142857142857,
    0.2357142857142857, 0.15803571428571428,
    0.42142857142857143, 0.11678571428571428,
    0.5666666666666667, 0.11678571428571428,
    0.7107142857142857, 0.13107142857142857,
    0.8357142857142857, 0.2357142857142857,
    //row one

    0.20071428571428572, 0.4446428571428571,
    0.2785714285714286, 0.4107142857142857,
    0.4488095238095238, 0.4107142857142857,
    0.5557142857142857, 0.40375,
    0.7301428571428571, 0.40375,
    0.8321428571428572, 0.4473214285714286,
    //row two

    0.19357142857142857, 0.5196428571428572,
    0.28095238095238095, 0.46875,
    0.4488095238095238, 0.46875,
    0.5557142857142857, 0.4625,
    0.7301428571428571, 0.4625,
    0.8357142857142857, 0.5169642857142858,
    //row three

    0.20357142857142857, 0.5946428571428571,
    0.3261904761904762, 0.5526785714285715,
    0.4142857142857143, 0.5508928571428572,
    0.5964285714285714, 0.5455357142857142,
    0.6952380952380952, 0.5491071428571429,
    0.8321428571428572, 0.6,
    //row four

    0.23214285714285715, 0.6883928571428571,
    0.375, 0.63598,
    0.45595238095238094, 0.630546428571428572,
    0.5547619047619048, 0.630546428571428572,
    0.6345238095238095, 0.63598,
    0.8, 0.6883928571428571,
    //row five

    0.29285714285714287, 0.7553571428571428,
    0.375, 0.6905085714285714286,
    0.45595238095238094, 0.7080357142857143,
    0.5547619047619048, 0.7080357142857143,
    0.6345238095238095, 0.6905085714285714286,
    0.7571428571428571, 0.7446428571428572,
    //row six

    0.3607142857142857, 0.8035714285714286,
    0.43214285714285716, 0.8303571428571429,
    0.5178571428571429, 0.8491071428571428,
    0.5178571428571429, 0.8491071428571428,
    0.6178571428571429, 0.8330357142857143,
    0.6928571428571428, 0.7955357142857142
    //row seven
    ]);

for (var i = 0; i < 7; i++) {
    for (var j = 0; j < 6; j++) {
        // uvs[index] = j * 0.2;
        vrtcs[index] = uvs[index++] * 840;
        // vrtcs[index++] = j *165;
        // uvs[index] = i * 0.2;
        vrtcs[index] = uvs[index++] * 1120;
        // vrtcs[index++] = i * 1120/6;
    }
}

console.log(vrtcs);

var plane001 = new PIXI.mesh.Mesh(PIXI.Texture.fromImage('imgs/old2.png'), vrtcs , uvs, new Uint16Array([0,6,1,7,2,8,3,9,4,10,5,11,11,17,11,16,10,15,9,14,8,13,7,12,6,12,12,18,13,19,14,20,15,21,16,22,17,23,23,29,23,28,22,27,21,26,20,25,19,24,18,24,24,30,25,31,26,32,27,33,28,34,29,35,35,41,35,40,34,39,33,38,32,37,31,36,30]));

plane001.x = 0;
plane001.y = 0;

// app.stage.addChild(plane001);

var g = new PIXI.Graphics();
g.x = plane001.x;
g.y = plane001.y;
app.stage.addChild(g);

// start animating
// app.ticker.add(function() {

//     count += 0.1;

// });
function renderPoints () {

    g.clear();

    pv = plane001.vertices;
    for(var i in pv) {
        if (i%2) {
            g.beginFill(0xff0022);
            g.drawCircle(pv[i-1], pv[i], 7);
            g.endFill();
        }
    }
}
// renderPoints();

$(function() {

    $(window).click(function(e){
        clicked_position = zz.cs.getCursorPosition($('canvas')[0], e);
        console.log(clicked_position[0] + ', ' + clicked_position[1] + ',');
    });

});


